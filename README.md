# Mezzo - Police Body Camera Management System

<div align="center">
  <img src="public/cam.png" alt="Mezzo Logo" width="200"/>
  
  [![React](https://img.shields.io/badge/React-19.1.1-blue.svg)](https://reactjs.org/)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue.svg)](https://www.typescriptlang.org/)
  [![Vite](https://img.shields.io/badge/Vite-7.1.12-646CFF.svg)](https://vitejs.dev/)
  [![License](https://img.shields.io/badge/license-ISC-green.svg)](LICENSE)
</div>

##  å°ˆæ¡ˆç°¡ä»‹

Mezzo æ˜¯ä¸€å€‹å®Œæ•´çš„è­¦ç”¨éš¨èº«æ”å½±æ©Ÿç®¡ç†ç³»çµ±ï¼Œå°ˆç‚ºåŸ·æ³•å–®ä½è¨­è¨ˆï¼Œæä¾›å³æ™‚å½±åƒç›£æ§ã€GPS è¿½è¹¤ã€èªéŸ³é€šè¨Šã€ä»¥åŠæ™ºèƒ½è£ç½®ç®¡ç†ç­‰åŠŸèƒ½ã€‚ç³»çµ±æ¡ç”¨ç¾ä»£åŒ–çš„ Web æŠ€è¡“æ£§ï¼Œæ”¯æ´å¤šäººå”ä½œèˆ‡å³æ™‚é€šè¨Šã€‚

###  å°ˆæ¡ˆç›®æ¨™

- æä¾›åŸ·æ³•äººå“¡å³æ™‚å½±åƒè¨˜éŒ„èˆ‡å›æ”¾åŠŸèƒ½
- å¯¦ç¾åœ˜éšŠæˆå“¡ä½ç½®è¿½è¹¤èˆ‡ç‹€æ…‹ç›£æ§
- æ”¯æ´èªéŸ³è¾¨è­˜èˆ‡èªéŸ³æ§åˆ¶åŠŸèƒ½
- æä¾›å®‰å…¨çš„ WebRTC è¦–è¨Šé€šè¨Š
- å¯¦ç¾ IoT è£ç½®é ç«¯æ§åˆ¶èˆ‡ç®¡ç†

##  ä¸»è¦åŠŸèƒ½

### 1. ğŸ¥ å³æ™‚å½±åƒç›£æ§
- **å³æ™‚ä¸²æµ**: æ”¯æ´ HLS å”è­°çš„å³æ™‚å½±åƒä¸²æµ
- **éŒ„å½±åŠŸèƒ½**: ä¸€éµå•Ÿå‹•/åœæ­¢éŒ„å½±ï¼Œè‡ªå‹•ä¿å­˜ç‚º WebM æ ¼å¼
- **æˆªåœ–åŠŸèƒ½**: å¿«é€Ÿæˆªå–ç•¶å‰ç•«é¢ä¸¦ä¸‹è¼‰
- **å…¨è¢å¹•æ¨¡å¼**: æ”¯æ´å…¨è¢å¹•æª¢è¦–å³æ™‚å½±åƒ
- **æ™‚é–“è»¸é¡¯ç¤º**: æ¸…æ¥šæ¨™ç¤ºç•¶å‰éŒ„å½±æ™‚æ®µ

### 2.  GPS è¿½è¹¤ç³»çµ±
- åŸºæ–¼ Leaflet çš„äº’å‹•å¼åœ°åœ–
- å³æ™‚é¡¯ç¤ºè­¦å“¡ä½ç½®
- ä½ç½®æ­·å²è¨˜éŒ„
- ä½ç½®åˆ†äº«åŠŸèƒ½
- OpenStreetMap åœ–è³‡æ•´åˆ

### 3.  èªéŸ³é€šè¨Šèˆ‡æ§åˆ¶
- **èªéŸ³è¾¨è­˜**: ä½¿ç”¨ Web Speech API é€²è¡Œä¸­æ–‡èªéŸ³è¾¨è­˜
- **å³æ™‚è½‰æ–‡å­—**: è‡ªå‹•å°‡èªéŸ³å…§å®¹è½‰æ›ç‚ºæ–‡å­—è¨˜éŒ„
- **èªéŸ³å‘½ä»¤**: æ”¯æ´èªéŸ³æ§åˆ¶è£ç½®ï¼ˆå·¦è½‰ã€å³è½‰ã€æ‹ç…§ç­‰ï¼‰
- **MQTT æ•´åˆ**: é€é MQTT å”è­°é ç«¯æ§åˆ¶ IoT è£ç½®

### 4.  åœ˜éšŠç®¡ç†
- **å³æ™‚ç‹€æ…‹é¡¯ç¤º**: æŸ¥çœ‹æ‰€æœ‰åœ˜éšŠæˆå“¡çš„ç·šä¸Šç‹€æ…‹
- **WebRTC è¦–è¨Šé€šè©±**: æ”¯æ´å¤šäººè¦–è¨Šæœƒè­°
- **åª’é«”æ§åˆ¶æ¬Šç®¡ç†**: ç¢ºä¿åª’é«”ä¾†æºåˆ‡æ›çš„é †æš¢æ€§
- **åœ˜éšŠé€šè¨Š**: å…§å»ºæ–‡å­—èˆ‡èªéŸ³é€šè¨ŠåŠŸèƒ½

### 5.  å½±åƒå›æ”¾
- æ­·å²å½±åƒæª¢è¦–
- æ—¥æœŸæ™‚é–“ç¯©é¸
- å½±åƒå¿«é€Ÿé è¦½
- å¤šç¨®å›æ”¾é€Ÿåº¦

### 6.  è£ç½®ç®¡ç†
- è£ç½®ç‹€æ…‹ç›£æ§ï¼ˆé›»é‡ã€å­˜å„²ç©ºé–“ã€é€£ç·šç‹€æ…‹ï¼‰
- è£ç½®è¨­å®šèª¿æ•´
- éŸŒé«”æ›´æ–°ç®¡ç†
- è­¦å ±é€šçŸ¥ç³»çµ±

##  æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“æ£§

```
Frontend (React + TypeScript + Vite)
â”œâ”€â”€ React 19.1.1          # UI æ¡†æ¶
â”œâ”€â”€ TypeScript            # é¡å‹å®‰å…¨
â”œâ”€â”€ Vite 7.1.12          # å»ºç½®å·¥å…·
â”œâ”€â”€ Tailwind CSS 4.1.16  # æ¨£å¼æ¡†æ¶
â”œâ”€â”€ React Router 7.9.5   # è·¯ç”±ç®¡ç†
â”œâ”€â”€ Leaflet 1.9.4        # åœ°åœ–çµ„ä»¶
â”œâ”€â”€ HLS.js 1.6.14        # å½±åƒä¸²æµ
â”œâ”€â”€ Socket.io Client     # WebSocket é€šè¨Š
â””â”€â”€ Lucide React         # åœ–æ¨™åº«
```

### å¾Œç«¯æœå‹™

```
Backend Services
â”œâ”€â”€ Express Server (port 4000)
â”‚   â”œâ”€â”€ CORS æ”¯æ´
â”‚   â”œâ”€â”€ èªéŸ³å‘½ä»¤è™•ç†
â”‚   â””â”€â”€ MQTT ç™¼å¸ƒ
â”‚
â”œâ”€â”€ Signaling Server (port 3001)
â”‚   â”œâ”€â”€ WebRTC ä¿¡ä»¤å”èª¿
â”‚   â”œâ”€â”€ Socket.io å³æ™‚é€šè¨Š
â”‚   â”œâ”€â”€ æˆ¿é–“ç®¡ç†
â”‚   â””â”€â”€ åª’é«”æ§åˆ¶æ¬Šç®¡ç†
â”‚
â””â”€â”€ MQTT Broker
    â””â”€â”€ IoT è£ç½®æ§åˆ¶
```

### ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web Client    â”‚
â”‚  (React + TS)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Express â”‚ â”‚  Signaling â”‚
â”‚Server  â”‚ â”‚   Server   â”‚
â”‚:4000   â”‚ â”‚   :3001    â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚        â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MQTT  â”‚ â”‚  WebRTC    â”‚
â”‚ Broker â”‚ â”‚  Peers     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##  å®‰è£èˆ‡è¨­å®š

### ç³»çµ±éœ€æ±‚

- Node.js >= 18.0.0
- npm >= 9.0.0
- Python 3.x (ç”¨æ–¼ MQTT æ§åˆ¶)
- ç¾ä»£ç€è¦½å™¨ (æ”¯æ´ WebRTC èˆ‡ Web Speech API)

### å®‰è£æ­¥é©Ÿ

1. **è¤‡è£½å°ˆæ¡ˆ**
```bash
git clone https://github.com/lyccc310/Mezzo.git
cd Mezzo
```

2. **å®‰è£å‰ç«¯ä¾è³´**
```bash
npm install
```

3. **å®‰è£ä¿¡ä»¤ä¼ºæœå™¨ä¾è³´**
```bash
cd signaling-server
npm install
cd ..
```

4. **å®‰è£ Python ä¾è³´ï¼ˆç”¨æ–¼ MQTTï¼‰**
```bash
pip install paho-mqtt
```

### ç’°å¢ƒè¨­å®š

1. **MQTT é…ç½®**

ç·¨è¼¯ `backend/mqtt_publish.py`ï¼Œè¨­å®š MQTT Broker ä½å€ï¼š

```python
publish.single(topic, payload, hostname="YOUR_MQTT_BROKER_IP", port=1883)
```

2. **å½±åƒä¸²æµè¨­å®š**

åœ¨ `src/App.tsx` ä¸­è¨­å®š HLS ä¸²æµä¾†æºï¼š

```typescript
const hlsUrl = "YOUR_HLS_STREAM_URL";
```

##  å•Ÿå‹•å°ˆæ¡ˆ

### é–‹ç™¼æ¨¡å¼

éœ€è¦åŒæ™‚å•Ÿå‹•ä¸‰å€‹æœå‹™ï¼š

1. **å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨**
```bash
npm run dev
```
å‰ç«¯å°‡é‹è¡Œåœ¨ `http://localhost:5173`

2. **å•Ÿå‹• Express å¾Œç«¯ä¼ºæœå™¨**
```bash
cd backend
node server.cjs
```
å¾Œç«¯ API å°‡é‹è¡Œåœ¨ `http://localhost:4000`

3. **å•Ÿå‹• WebRTC ä¿¡ä»¤ä¼ºæœå™¨**
```bash
cd signaling-server
node signaling_server.js
```
ä¿¡ä»¤ä¼ºæœå™¨å°‡é‹è¡Œåœ¨ `http://localhost:3001`

### ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

```bash
# å»ºç½®å‰ç«¯
npm run build

# é è¦½å»ºç½®çµæœ
npm run preview
```

å»ºç½®å®Œæˆçš„æª”æ¡ˆå°‡åœ¨ `dist` ç›®éŒ„ä¸­ã€‚

##  ä½¿ç”¨æŒ‡å—

### ç™»å…¥ç³»çµ±

1. é–‹å•Ÿæ‡‰ç”¨ç¨‹å¼
2. è¼¸å…¥æ‚¨çš„å§“åï¼ˆä¾‹å¦‚ï¼šRodriguezï¼‰
3. è¼¸å…¥æ‚¨çš„å–®ä½ï¼ˆä¾‹å¦‚ï¼šPatrol Unit 7Aï¼‰
4. é»æ“Šã€ŒEnter Systemã€

### èªéŸ³æ§åˆ¶æŒ‡ä»¤

ç³»çµ±æ”¯æ´ä»¥ä¸‹ä¸­æ–‡èªéŸ³æŒ‡ä»¤ï¼š

- **"å‘å·¦"** æˆ– **"å·¦é‚Š"**: æ§åˆ¶æ”å½±æ©Ÿå‘å·¦è½‰
- **"å‘å³"** æˆ– **"å³é‚Š"**: æ§åˆ¶æ”å½±æ©Ÿå‘å³è½‰
- **"æ‹ç…§"**: è§¸ç™¼æ”å½±æ©Ÿæ‹ç…§

### è¦–è¨Šé€šè©±

1. é€²å…¥ã€ŒVoice Communicationã€æˆ–ã€ŒTeam Managementã€é é¢
2. é»æ“Šã€ŒStart Callã€é–‹å§‹é€šè©±
3. é¸æ“‡è¦ä½¿ç”¨çš„æ”å½±æ©Ÿæˆ–è¢å¹•åˆ†äº«
4. é»æ“Šã€ŒRequest Controlã€è«‹æ±‚åª’é«”æ§åˆ¶æ¬Š
5. åˆ‡æ›åª’é«”ä¾†æºæˆ–èª¿æ•´è¨­å®š

### éŒ„å½±èˆ‡æˆªåœ–

- **é–‹å§‹éŒ„å½±**: é»æ“Šç´…è‰²éŒ„å½±æŒ‰éˆ•ï¼ˆğŸ”´ï¼‰
- **åœæ­¢éŒ„å½±**: å†æ¬¡é»æ“ŠéŒ„å½±æŒ‰éˆ•ï¼ˆéŒ„å½±ä¸­æœƒæœ‰è„ˆè¡å‹•ç•«ï¼‰
- **æˆªåœ–**: é»æ“Šç›¸æ©ŸæŒ‰éˆ•ï¼ˆğŸ“·ï¼‰
- **å…¨è¢å¹•**: é»æ“Šå…¨è¢å¹•æŒ‰éˆ•ï¼ˆâ›¶ï¼‰

##  å°ˆæ¡ˆçµæ§‹

```
Mezzo/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.cjs           # Express å¾Œç«¯ä¼ºæœå™¨
â”‚   â””â”€â”€ mqtt_publish.py      # MQTT ç™¼å¸ƒè…³æœ¬
â”‚
â”œâ”€â”€ signaling-server/
â”‚   â”œâ”€â”€ signaling_server.js  # WebRTC ä¿¡ä»¤ä¼ºæœå™¨
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ CameraMap.tsx    # GPS åœ°åœ–çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Communication.tsx # é€šè¨Šçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Device.tsx       # è£ç½®ç®¡ç†çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Playback.tsx     # å›æ”¾çµ„ä»¶
â”‚   â”‚   â””â”€â”€ VoiceControl.tsx # èªéŸ³æ§åˆ¶çµ„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx              # ä¸»æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ App.css              # æ‡‰ç”¨ç¨‹å¼æ¨£å¼
â”‚   â”œâ”€â”€ types.ts             # TypeScript é¡å‹å®šç¾©
â”‚   â”œâ”€â”€ main.jsx             # æ‡‰ç”¨ç¨‹å¼å…¥å£
â”‚   â””â”€â”€ index.css            # å…¨åŸŸæ¨£å¼
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ cam.png              # æ‡‰ç”¨ç¨‹å¼åœ–æ¨™
â”‚   â””â”€â”€ vite.svg
â”‚
â”œâ”€â”€ index.html               # HTML æ¨¡æ¿
â”œâ”€â”€ package.json             # å‰ç«¯ä¾è³´é…ç½®
â”œâ”€â”€ tsconfig.json            # TypeScript é…ç½®
â”œâ”€â”€ vite.config.js           # Vite é…ç½®
â”œâ”€â”€ eslint.config.js         # ESLint é…ç½®
â””â”€â”€ README.md                # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
```

##  å®‰å…¨æ€§è€ƒé‡

-  ä½¿ç”¨ WebRTC é€²è¡Œç«¯å°ç«¯åŠ å¯†é€šè¨Š
-  å¯¦ä½œä½¿ç”¨è€…èº«ä»½é©—è­‰æ©Ÿåˆ¶
-  åª’é«”æ§åˆ¶æ¬Šç®¡ç†é¿å…è¡çª
-  CORS æ”¿ç­–ä¿è­· API ç«¯é»
-  å³æ™‚è­¦å ±ç³»çµ±ç›£æ§ç•°å¸¸ç‹€æ…‹

##  å·²çŸ¥å•é¡Œ

- Web Speech API åœ¨æŸäº›ç€è¦½å™¨ä¸Šå¯èƒ½ä¸ç©©å®š
- éœ€è¦ HTTPS ç’°å¢ƒæ‰èƒ½ä½¿ç”¨æ”å½±æ©Ÿå’Œéº¥å…‹é¢¨æ¬Šé™
- å¤§æª”æ¡ˆéŒ„å½±å¯èƒ½æœƒä½”ç”¨è¼ƒå¤šè¨˜æ†¶é«”

##  ç–‘é›£æ’è§£

### æ”å½±æ©Ÿç„¡æ³•å­˜å–
- ç¢ºä¿ç€è¦½å™¨å·²æˆäºˆæ”å½±æ©Ÿæ¬Šé™
- æª¢æŸ¥æ˜¯å¦ä½¿ç”¨ HTTPS æˆ– localhost
- ç¢ºèªæ²’æœ‰å…¶ä»–æ‡‰ç”¨ç¨‹å¼æ­£åœ¨ä½¿ç”¨æ”å½±æ©Ÿ

### èªéŸ³è¾¨è­˜ç„¡æ³•é‹ä½œ
- ç¢ºèªç€è¦½å™¨æ”¯æ´ Web Speech APIï¼ˆå»ºè­°ä½¿ç”¨ Chromeï¼‰
- æª¢æŸ¥éº¥å…‹é¢¨æ¬Šé™è¨­å®š
- ç¢ºä¿å·²é€£æ¥éº¥å…‹é¢¨è£ç½®

### WebRTC é€£ç·šå¤±æ•—
- ç¢ºèªä¿¡ä»¤ä¼ºæœå™¨æ­£åœ¨é‹è¡Œ
- æª¢æŸ¥é˜²ç«ç‰†è¨­å®š
- ç¢ºèªç¶²è·¯é€£ç·šç©©å®š

### MQTT æ§åˆ¶ç„¡å›æ‡‰
- æª¢æŸ¥ MQTT Broker æ˜¯å¦é‹è¡Œ
- ç¢ºèª IP ä½å€å’Œç«¯å£è¨­å®šæ­£ç¢º
- æª¢æŸ¥ Python ç’°å¢ƒå’Œ paho-mqtt æ˜¯å¦å®‰è£


<div align="center">
  Made with â¤ï¸ for Law Enforcement
</div>
